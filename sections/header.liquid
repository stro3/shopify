<header class="site-header" role="banner">
  <div class="page-width">
    <div class="site-header__inner">

      <!-- Logo -->
      <div class="site-header__logo">
        {%- if section.settings.logo != blank -%}
          <a href="{{ routes.root_url }}" aria-label="{{ shop.name }}">
            <img
              src="{{ section.settings.logo | image_url: width: 300 }}"
              alt="{{ shop.name }}"
              width="{{ section.settings.logo.width }}"
              height="{{ section.settings.logo.height }}"
              loading="eager"
            >
          </a>
        {%- else -%}
          <a href="{{ routes.root_url }}">{{ shop.name }}</a>
        {%- endif -%}
      </div>

      <!-- Nav -->
      <nav aria-label="Main navigation" class="site-header__nav">
        <ul class="site-nav" role="list">
          {%- for link in section.settings.menu.links -%}
            <li>
              <a href="{{ link.url }}"
                 {% if link.active %}aria-current="page"{% endif %}>
                {{ link.title }}
              </a>
            </li>
          {%- endfor -%}
        </ul>
      </nav>

      <!-- Icons -->
      <div class="site-header__icons">
        {%- if shop.customer_accounts_enabled -%}
          <a href="{{ routes.account_url }}" aria-label="Account" class="cart-icon-btn">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
              <circle cx="12" cy="7" r="4"/>
            </svg>
          </a>
        {%- endif -%}

        <button class="cart-icon-btn" data-cart-drawer-trigger aria-label="Open cart" aria-expanded="false">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="9" cy="21" r="1"/><circle cx="20" cy="21" r="1"/>
            <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/>
          </svg>
          <span class="cart-count" data-cart-count aria-label="Cart items" data-count="{{ cart.item_count }}">
            {{ cart.item_count }}
          </span>
        </button>
      </div>

    </div>
  </div>
</header>

{% schema %}
{
  "name": "Header",
  "limit": 1,
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo image"
    },
    {
      "type": "range",
      "id": "logo_width",
      "min": 50,
      "max": 300,
      "step": 10,
      "default": 160,
      "unit": "px",
      "label": "Logo width"
    },
    {
      "type": "link_list",
      "id": "menu",
      "default": "main-menu",
      "label": "Navigation menu"
    }
  ],
  "presets": [
    { "name": "Header" }
  ]
}
{% endschema %}
